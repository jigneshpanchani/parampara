import{T as z,r as w,b as t,c as n,e,F as k,f as M,i as r,u as d,s as j,n as C,g as m,j as c,Z as A,d as I,v as F,L as N,k as S,m as V,t as b}from"./app-408809c0.js";import{_ as E,b as P,a as D}from"./AdminLayout-338b7225.js";import{_ as H,D as O}from"./DangerButton-564282d1.js";import{M as R,_ as K}from"./Modal-962b7dca.js";import"./_plugin-vue_export-helper-c27b6911.js";function q(s,u={}){const a=z({}),l=w(""),i=w("id"),h=w("desc"),x=w({...u}),y=f=>{x.value={...x.value,...f}},v=(f={})=>{const _={...x.value,...f,search:l.value,sort_by:i.value,sort_direction:h.value},$=new URLSearchParams(window.location.search).get("page");$&&(_.page=$),a.get(route(s,_),{preserveState:!0,replace:!0})};return{form:a,search:l,sort:(f,_=!0)=>{_&&(i.value===f?h.value=h.value==="asc"?"desc":"asc":(h.value="asc",i.value=f),v())},fetchData:v,sortKey:i,sortDirection:h,updateParams:y}}const Z={key:0},G={class:"flex flex-wrap justify-end isolate rounded-md"},J={key:0},Q={key:1},W={__name:"Pagination",props:["links"],setup(s){return(u,a)=>s.links.length>1?(t(),n("div",Z,[e("div",G,[(t(!0),n(k,null,M(s.links,(l,i)=>(t(),n(k,{key:i},[l.url===null?(t(),n("div",J,[r(d(j),{innerHTML:l.label,href:"#",class:"inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 bg-white hover:bg-gray-50 focus:z-20 focus:outline-offset-0"},null,8,["innerHTML"])])):(t(),n("div",Q,[r(d(j),{innerHTML:l.label,href:l.url,class:C([{"bg-indigo-600 text-white hover:bg-indigo-600":l.active},"bg-white inline-flex items-center px-4 py-2 text-sm font-semibold text-gray-900 ring-1 ring-inset ring-gray-300 hover:bg-gray-50 focus:z-20 focus:outline-offset-0"])},null,8,["innerHTML","href","class"])]))],64))),128))])])):m("",!0)}},X=["aria-checked"],Y=e("span",{class:"sr-only"},"Use setting",-1),ee={__name:"SwitchButton",props:["switchValue","userId"],emits:["updateSwitchValue"],setup(s,{emit:u}){const a=s,l=()=>{u("updateSwitchValue",!a.switchValue,a.userId)};return(i,h)=>(t(),n("button",{type:"button",class:C([{"bg-gray-200":!a.switchValue,"bg-indigo-600":a.switchValue},"relative inline-flex h-6 w-11 flex-shrink-0 cursor-pointer rounded-full border-2 border-transparent transition-colors duration-200 ease-in-out focus:outline-none focus:ring-2 focus:ring-indigo-600 focus:ring-offset-2"]),role:"switch","aria-checked":a.switchValue,onClick:l},[Y,e("span",{class:C([{"translate-x-0":!a.switchValue,"translate-x-5":a.switchValue},"pointer-events-none inline-block h-5 w-5 transform rounded-full bg-white shadow ring-0 transition duration-200 ease-in-out"]),"aria-hidden":"true"},null,2)],10,X))}},te={key:0},se={key:0,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"#0000FF"},oe=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M5 15l7-7 7 7"},null,-1),ne=[oe],ae={key:1,xmlns:"http://www.w3.org/2000/svg",class:"h-4 w-4 inline-block ml-2",fill:"none",viewBox:"0 0 24 24",stroke:"#0000FF"},le=e("path",{"stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M19 9l-7 7-7-7"},null,-1),ie=[le],re={__name:"ArrowIcon",props:{isSorted:{type:Boolean,default:!1},direction:{type:String,default:"asc"}},setup(s){return(u,a)=>s.isSorted?(t(),n("span",te,[s.direction==="asc"?(t(),n("svg",se,ne)):(t(),n("svg",ae,ie))])):m("",!0)}},ce={class:"animate-top"},de={class:"flex justify-between items-center"},ue=e("div",{class:"items-start"},[e("h1",{class:"text-2xl font-semibold leading-7 text-gray-900"},"Users")],-1),he={class:"flex justify-end"},fe={class:"flex space-x-6 mt-4 sm:mt-0 w-64"},_e={class:"flex focus-within:shadow-lg relative rounded-lg border border-gray-200 w-full"},me=e("svg",{class:"pointer-events-none absolute inset-y-0 left-0 h-full w-5 text-gray-400 ml-2",viewBox:"0 0 20 20",fill:"currentColor","aria-hidden":"true"},[e("path",{"fill-rule":"evenodd",d:"M9 3.5a5.5 5.5 0 100 11 5.5 5.5 0 000-11zM2 9a7 7 0 1112.452 4.391l3.328 3.329a.75.75 0 11-1.06 1.06l-3.329-3.328A7 7 0 012 9z","clip-rule":"evenodd"})],-1),ge={key:0,class:"mt-4 sm:ml-6 sm:mt-0 sm:flex-none"},pe={class:"flex justify-end"},we={class:"mt-8 overflow-x-auto sm:rounded-lg"},xe={class:"shadow sm:rounded-lg"},ye={class:"w-full text-sm text-left rtl:text-right text-gray-500"},ve={class:"text-xs text-gray-700 uppercase bg-gray-50",style:{"border-top":"3px solid white"}},be={class:"border-b-2"},ke=["onClick"],$e={key:0},Se={class:"px-4 py-2.5 font-medium text-gray-900 whitespace-nowrap min-w-36"},Ve={class:"px-4 py-2.5 min-w-36"},Me={class:"px-4 py-2.5 min-w-36"},Ce={class:"items-center px-4 py-2.5"},Le={class:"items-center px-4 py-2.5"},Be={class:"flex items-center justify-start gap-4"},Ue=e("button",{type:"button",title:"Open details",class:"p-1 rounded hover:bg-gray-100 focus:bg-gray-100"},[e("svg",{viewBox:"0 0 24 24",class:"w-4 h-4 fill-current"},[e("path",{d:"M12 6a2 2 0 110-4 2 2 0 010 4zm0 8a2 2 0 110-4 2 2 0 010 4zm-2 6a2 2 0 104 0 2 2 0 00-4 0z"})])],-1),je=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5","x-tooltip":"tooltip"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M16.862 4.487l1.687-1.688a1.875 1.875 0 112.652 2.652L6.832 19.82a4.5 4.5 0 01-1.897 1.13l-2.685.8.8-2.685a4.5 4.5 0 011.13-1.897L16.863 4.487zm0 0L19.5 7.125"})],-1),Te=e("span",{class:"text-sm text-gray-700 leading-5"}," Edit ",-1),ze=["onClick"],Ae=e("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"1.5",stroke:"currentColor",class:"h-5 w-5","x-tooltip":"tooltip"},[e("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14.74 9l-.346 9m-4.788 0L9.26 9m9.968-3.21c.342.052.682.107 1.022.166m-1.022-.165L18.16 19.673a2.25 2.25 0 01-2.244 2.077H8.084a2.25 2.25 0 01-2.244-2.077L4.772 5.79m14.456 0a48.108 48.108 0 00-3.478-.397m-12 .562c.34-.059.68-.114 1.022-.165m0 0a48.11 48.11 0 013.478-.397m7.5 0v-.916c0-1.18-.91-2.164-2.09-2.201a51.964 51.964 0 00-3.32 0c-1.18.037-2.09 1.022-2.09 2.201v.916m7.5 0a48.667 48.667 0 00-7.5 0"})],-1),Ie=e("span",{class:"text-sm text-gray-700 leading-5"}," Delete ",-1),Fe=[Ae,Ie],Ne={key:1},Ee=e("tr",{class:"bg-white"},[e("td",{colspan:"9",class:"text-center whitespace-nowrap p-10 text-sm font-semibold text-gray-900"}," No data found. ")],-1),Pe=[Ee],De={class:"p-6"},He=e("h2",{class:"text-lg font-medium text-gray-900"}," Are you sure you want to delete? ",-1),Oe={class:"mt-6 flex justify-end"},Je={__name:"List",props:["data","search","permissions"],setup(s){const{form:u,search:a,sort:l,fetchData:i,sortKey:h,sortDirection:x}=q("users.index"),y=w(!1),v=w(null),L=[{field:"first_name",label:"NAME",sortable:!0,multiFieldSort:["first_name","last_name"]},{field:"email",label:"EMAIL",sortable:!0},{field:"role_id",label:"ROLE",sortable:!0},{field:"status",label:"STATUS",sortable:!1},{field:"action",label:"ACTION",sortable:!1}],f=g=>{v.value=g,y.value=!0},_=()=>{y.value=!1},B=()=>{u.delete(route("users.destroy",{id:v.value}),{onSuccess:()=>_()})},$=(g,p)=>{u.post(route("users.activation",{id:p,status:g}),{})};return(g,p)=>(t(),n(k,null,[r(d(A),{title:"Users"}),r(E,null,{default:c(()=>[e("div",ce,[e("div",de,[ue,e("div",he,[e("div",fe,[e("div",_e,[me,I(e("input",{id:"search-field","onUpdate:modelValue":p[0]||(p[0]=o=>N(a)?a.value=o:null),onInput:p[1]||(p[1]=(...o)=>d(i)&&d(i)(...o)),class:"rounded-lg block h-full w-full border-0 pl-8 text-gray-900 placeholder:text-gray-400 focus:ring-0 sm:text-sm",placeholder:"Search...",type:"search",name:"search"},null,544),[[F,d(a)]])])]),s.permissions.canCreateUser?(t(),n("div",ge,[e("div",pe,[r(H,{href:g.route("users.create")},{default:c(()=>[S(" Add User ")]),_:1},8,["href"])])])):m("",!0)])]),e("div",we,[e("div",xe,[e("table",ye,[e("thead",ve,[e("tr",be,[(t(),n(k,null,M(L,(o,U)=>e("th",{key:U,scope:"col",class:"px-4 py-4 text-sm font-semi bold text-gray-900 cursor-pointer",onClick:T=>d(l)(o.field,o.sortable)},[S(b(o.label)+" ",1),o.sortable?(t(),V(re,{key:0,isSorted:d(h)===o.field,direction:d(x)},null,8,["isSorted","direction"])):m("",!0)],8,ke)),64))])]),s.data.data&&s.data.data.length>0?(t(),n("tbody",$e,[(t(!0),n(k,null,M(s.data.data,(o,U)=>(t(),n("tr",{class:"odd:bg-white even:bg-gray-50 border-b",key:o.id},[e("td",Se,b(o.first_name)+" "+b(o.last_name),1),e("td",Ve,b(o.email),1),e("td",Me,b(o.roles[0].name),1),e("td",Ce,[r(ee,{switchValue:o.status,userId:o.id,onUpdateSwitchValue:$},null,8,["switchValue","userId"])]),e("td",Le,[e("div",Be,[r(P,{align:"right",width:"48"},{trigger:c(()=>[Ue]),content:c(()=>[s.permissions.canEditUser?(t(),V(D,{key:0,href:g.route("users.edit",{id:o.id})},{svg:c(()=>[je]),text:c(()=>[Te]),_:2},1032,["href"])):m("",!0),s.permissions.canDeleteUser?(t(),n("button",{key:1,type:"button",onClick:T=>f(o.id),class:"flex space-x-2 block px-3 py-2 text-gray-700 hover:bg-gray-100 focus:outline-none focus:bg-gray-100 w-full"},Fe,8,ze)):m("",!0)]),_:2},1024)])])]))),128))])):(t(),n("tbody",Ne,Pe))])])]),s.data.data&&s.data.data.length>0?(t(),V(W,{key:0,class:"mt-6",links:s.data.links},null,8,["links"])):m("",!0)]),r(R,{show:y.value,onClose:_},{default:c(()=>[e("div",De,[He,e("div",Oe,[r(K,{onClick:_},{default:c(()=>[S(" Cancel ")]),_:1}),r(O,{class:"ml-3",onClick:B},{default:c(()=>[S(" Delete ")]),_:1})])])]),_:1},8,["show"])]),_:1})],64))}};export{Je as default};
